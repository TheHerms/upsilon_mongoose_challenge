<!doctype html>
<html>
  <head>
    <title>Upsilon Intro to Mongoose with Persons Unknown</title>
    <script src="/vendor/angular.min.js"></script>
    <script src="/scripts/client.js"></script>
    <script src="/scripts/person.controller.js" charset="utf-8"></script>
    <script src="/scripts/person.service.js" charset="utf-8"></script>
    <script src="/scripts/person.controller.js"></script>
    <script src="/scripts/person.service.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Abril+Fatface" rel="stylesheet">
    <link rel="stylesheet" href="/vendor/normalize.css" />
    <link rel="stylesheet" href="/vendor/skeleton.css" />
    <link rel="stylesheet" href="/styles/main.css" />
  </head>
  <body ng-app="personApp">
    <main class="container" ng-controller="PersonController as ctrl">
      <h1>So People Right</h1>
      <!-- Submit a person -->
      <section id="personSubmission" class="row">
        <h2>Submit a person</h2>
        <form id="personForm">
          <div class="row">
            <div class="three columns">
              <label for="currentPersonFirstName">First Name:</label>
              <input ng-model="ctrl.person.firstName" type="text" id="currentPersonFirstName" name="firstName" />
            </div>

            <div class="nine columns">
              <label for="currentPersonLastName">Last Name:</label>
              <input ng-model="ctrl.person.lastName" type="text" id="currentPersonLastName" name="lastName" />
              <button ng-click="ctrl.addNames()">Submit</button>
            </div>

          </div>
          <p>
            {{ctrl.person}}
          </p>
        </form>
      </section>
      <!-- See submitted people -->
      <section id="persons" class="row">
        <h2>Person Listing</h2>
        <div id="personList">
          <div class="person row" ng-repeat="person in ctrl.array">
            <div class="three columns">
              <label for="firstName">First Name:</label>
              <input ng-model="person.firstName" type="text" id="firstName" name="firstName" />
            </div>

            <div class="nine columns">
              <label for="lastName">Last Name:</label>
              <input ng-model="person.lastName" type="text" id="lastName" name="lastName" />
              <button ng-click="ctrl.updateNames(person)" class="update">Update</button>
              <button ng-click="ctrl.deleteNames(person._id)" class="delete">Delete</button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
